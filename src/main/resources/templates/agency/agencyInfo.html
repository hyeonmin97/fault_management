<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>대리점 정보</title>
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<!--전체 컨테이너-->
<div class="container min-vw-100 w-100" >
    <div style="text-align: center" class="my-5">
        <span class="fs-1" th:text="${agencyInfo.getName()}">대리점명</span>
    </div>

<!--    대리점 정보-->
    <div class="container mt-5 w-100">
        <span class="fs-2">대리점 정보</span>
    </div>
    <div class="container my-3 min-vw-50 w-50">
        <table class="table fs-6">
            <tbody th:object="${agencyInfo}">
                <tr>
                    <th>점포코드</th>
                    <th>상태</th>
                </tr>
                <tr>
                    <td th:text="*{getAgencyCode()}">점포코드</td>
                    <td th:text="*{getStatus().getValue()}">상태</td>
                </tr>
                <tr>
                    <th colspan="2">위치</th>
                </tr>
                <tr>
                    <td colspan="2" th:if="*{getPostalCode() != null}" th:utext="*{'(' + getPostalCode() + ')' + '&lt;br&gt;' + getAddress() +'&lt;br&gt;' + getAddressDetail() }">(우편번호)주소</td>
                    <td colspan="2" th:unless="*{getPostalCode() != null}"th:utext="*{'(' + '&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp' + ')' + '&lt;br&gt;' + getAddress() +'&lt;br&gt;' + getAddressDetail() }">(우편번호)주소</td>
                </tr>
                <tr>
                    <th>매장번호</th>
                    <th>팩스</th>
                </tr>
                <tr>
                    <td th:text="*{getTelephone()}">매장번호</td>
                    <td th:text="*{getFax()}">팩스</td>

                </tr>
                <tr>
                    <th>매니저 이름</th>
                    <th>매니저 전화번호</th>
                </tr>
                <tr>
                    <td th:text="*{getManagerName()}">매니저 이름</td>
                    <td th:text="*{getManagerPhone()}">매니저 전화번호</td>

                </tr>
            </tbody>
        </table>
    </div>

    <!--  관리 지역 리스트-->
    <div class="container mt-5 w-100">
        <span class="fs-2">관리 지역</span>
    </div>
    <div class="container my-3 min-vw-50 w-50">
        <table class="table fs-6">
            <thead>
            <tr>
                <th>본부</th>
                <th>지역</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="control : ${agencyInfo.getAgencyControlList()}">
                <td th:text="${control.getLocation().getHeadOfficeCode()}">headOffice</td>
                <td th:text="${control.getLocation().getAreaCode()}">area</td>
            </tr>
            </tbody>

        </table>
    </div>

<!--    엔지니어 리스트-->
    <div class="container mt-5 w-100">
        <span class="fs-2">소속 엔지니어</span>
    </div>
    <div class="container my-3 min-vw-100 w-100">
        <div th:replace="~{fragment/engineer :: engineerList(${agencyInfo.getEngineerList()})}"></div>
    </div>

    <!--  과거 장애내역  -->
    <div class="container mt-5 w-100">
        <span class="fs-2">최근 할당된 장애내역</span>
    </div>
    <div class="container my-3 min-vw-100 w-100">

        <!--    장애목록 테이블    -->
        <div th:replace="~{fragment/incident :: incidentTableWithoutAgencyId(${agencyInfo.getIncidentHistoryDtoList()})}"></div>

        <!--    페이지 번호    -->
        <div th:replace="~{fragment/paging :: defaultPaging('info', ${paging})}"></div>
    </div>
</div>
</body>
</html>