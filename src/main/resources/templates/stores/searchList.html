<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>점포 검색</title>
  <!-- Latest compiled and minified CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Latest compiled JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>

  <!-- 검색 폼 -->
  <div th:replace="~{stores/fragment :: searchForm(${type}, ${keyword})}"></div>

  <!-- 데이터 출력 테이블  -->
  <div style="text-align: center">
    <div style="min-width:1000px;width: 80%;display: inline-block">
      <!--테이블-->
      <div th:replace="~{stores/fragment :: table(${list})}"></div>
    </div>

    <div></div>

    <div style="display: inline-block">
      <!--하단 네비게이션-->
      <nav aria-label="Page navigation example">
        <ul class="pagination">

          <th:block>
            <li class="page-item" th:classappend="${!paging.isEnablePrev() ? 'disabled' : _}">
              <a class="page-link" href="#" th:href="@{search(page=1, type=${type}, keyword=${keyword})}" aria-label="First">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </li>

            <li class="page-item" th:classappend="${!paging.isEnablePrev() ? 'disabled' : _}">
              <a class="page-link" href="#" th:href="@{search(page=${paging.getCurrentPage()}-1, type=${type}, keyword=${keyword})}" aria-label="Previous">
                <span aria-hidden="true">&lt;</span>
              </a>
            </li>
          </th:block>

          <th:block th:each="number:${#numbers.sequence(paging.getStartPage(), paging.getEndPage())}">

            <th:block th:if="${number <= paging.getMaxSize()}">

              <li class="page-item" th:if="${number==paging.getCurrentPage()}" th:classappend="active">
                <a class="page-link" href="#" th:href="@{search(page=${number}, type=${type}, keyword=${keyword})}" th:text="${number}">1</a>
              </li>
              <li class="page-item" th:if="${number!=paging.getCurrentPage()}" th:classappend="${number > paging.getMaxSize() ? 'disabled' : _}">
                <a class="page-link" href="#" th:href="@{search(page=${number}, type=${type}, keyword=${keyword})}" th:text="${number}">1</a>
              </li>
            </th:block>
            <th:block th:unless="${number <= paging.getMaxSize()}">
              <li class="page-item disabled">
                <a class="page-link" href="#" th:text="${number}">1</a>
              </li>
            </th:block>
          </th:block>

          <th:block>
            <li class="page-item" th:classappend="${!paging.isEnableNext() ? 'disabled' : _}">
              <a class="page-link" href="#" th:href="@{search(page=${paging.getCurrentPage()}+1, type=${type}, keyword=${keyword})}" aria-label="Next">
                <span aria-hidden="true">&gt;</span>
              </a>
            </li>
            <li class="page-item" th:classappend="${!paging.isEnableNext() ? 'disabled' : _}">
              <a class="page-link" href="#" th:href="@{search(page=${paging.getMaxSize()}, type=${type}, keyword=${keyword})}" aria-label="End">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </li>
          </th:block>
        </ul>
      </nav>
    </div>
  </div>
</body>
</html>